{"tldrawFileFormatVersion":1,"schema":{"schemaVersion":2,"sequences":{"com.tldraw.store":4,"com.tldraw.asset":1,"com.tldraw.camera":1,"com.tldraw.document":2,"com.tldraw.instance":25,"com.tldraw.instance_page_state":5,"com.tldraw.page":1,"com.tldraw.instance_presence":5,"com.tldraw.pointer":1,"com.tldraw.shape":4,"com.tldraw.asset.bookmark":2,"com.tldraw.asset.image":5,"com.tldraw.asset.video":5,"com.tldraw.shape.group":0,"com.tldraw.shape.text":2,"com.tldraw.shape.bookmark":2,"com.tldraw.shape.draw":2,"com.tldraw.shape.geo":9,"com.tldraw.shape.note":8,"com.tldraw.shape.line":5,"com.tldraw.shape.frame":0,"com.tldraw.shape.arrow":5,"com.tldraw.shape.highlight":1,"com.tldraw.shape.embed":4,"com.tldraw.shape.image":4,"com.tldraw.shape.video":2,"com.tldraw.binding.arrow":0}},"records":[{"gridSize":10,"name":"","meta":{},"id":"document:document","typeName":"document"},{"id":"pointer:pointer","typeName":"pointer","x":-629.3466522226545,"y":-584.6017183294844,"lastActivityTimestamp":1732049138197,"meta":{}},{"meta":{},"id":"page:page","name":"Page 1","index":"a1","typeName":"page"},{"followingUserId":null,"opacityForNextShape":1,"stylesForNextShape":{"tldraw:geo":"rectangle","tldraw:color":"light-red","tldraw:dash":"dotted"},"brush":null,"scribbles":[],"cursor":{"type":"default","rotation":0},"isFocusMode":false,"exportBackground":true,"isDebugMode":false,"isToolLocked":false,"screenBounds":{"x":0,"y":0,"w":1230,"h":1108},"insets":[false,false,false,false],"zoomBrush":null,"isGridMode":false,"isPenMode":false,"chatMessage":"","isChatting":false,"highlightedUserIds":[],"isFocused":true,"devicePixelRatio":2,"isCoarsePointer":false,"isHoveringCanvas":false,"openMenus":[],"isChangingStyle":false,"isReadonly":false,"meta":{},"duplicateProps":null,"id":"instance:instance","currentPageId":"page:page","typeName":"instance"},{"editingShapeId":null,"croppingShapeId":null,"selectedShapeIds":[],"hoveredShapeId":null,"erasingShapeIds":[],"hintingShapeIds":[],"focusedGroupId":null,"meta":{},"id":"instance_page_state:page:page","pageId":"page:page","typeName":"instance_page_state"},{"x":776.4872772226545,"y":671.6720308294844,"z":0.5,"meta":{},"id":"camera:page:page","typeName":"camera"},{"x":142.25390625,"y":231.73828125,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:TRp1aA3rvTM4SyLVjG7If","type":"geo","props":{"w":142,"h":164.6875,"geo":"ellipse","color":"black","labelColor":"black","fill":"none","dash":"draw","size":"m","font":"draw","text":"socket clien","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"a1","typeName":"shape"},{"x":708,"y":273.80859375,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:B-G0JA0kvZ0N-u6KCeWni","type":"geo","props":{"w":126.62109375,"h":179.86328125,"geo":"ellipse","color":"yellow","labelColor":"black","fill":"none","dash":"draw","size":"m","font":"draw","text":"server\nsokcet","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"a24MU","typeName":"shape"},{"x":669.01953125,"y":117.23046875,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:49ZTQ0dZZdIoeRgFKmBNL","type":"geo","props":{"w":271.85546875,"h":484.59765625,"geo":"rectangle","color":"black","labelColor":"black","fill":"none","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"a32nU","typeName":"shape"},{"x":963.03125,"y":446.07421875,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:mcU_vhIvxFhj2YGFfM7sC","type":"text","props":{"color":"black","size":"m","w":81.5703125,"text":"server\nSIDE","font":"draw","textAlign":"start","autoSize":true,"scale":1},"parentId":"page:page","index":"a44oS","typeName":"shape"},{"x":89.03125,"y":112.0625,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:qZ-y5QbAWJ_CaMuVslZG-","type":"geo","props":{"w":322.3046875,"h":437.46875,"geo":"rectangle","color":"black","labelColor":"black","fill":"none","dash":"draw","size":"m","font":"draw","text":"T","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"a54VK","typeName":"shape"},{"x":79.015625,"y":559.23828125,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:Q-8IROXTjYrIdXKg3zvkk","type":"text","props":{"color":"black","size":"m","w":90.5,"text":"CLIENT\nside","font":"draw","textAlign":"start","autoSize":true,"scale":1},"parentId":"page:page","index":"a6040","typeName":"shape"},{"x":410.359375,"y":287.4921875,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:1hyE2O9ZHwnKWvDzSuSix","type":"arrow","props":{"dash":"draw","size":"m","fill":"none","color":"light-blue","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":258.1171875,"y":-42.3125},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"connection","labelPosition":0.5,"font":"draw","scale":1},"parentId":"page:page","index":"a5dui","typeName":"shape"},{"meta":{},"id":"binding:1WVI1lh3VCgJNGOCMIck6","type":"arrow","fromId":"shape:1hyE2O9ZHwnKWvDzSuSix","toId":"shape:qZ-y5QbAWJ_CaMuVslZG-","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.9969700642346382,"y":0.4010107864847489},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:DBodWZ4z7KRi-luz-HFcQ","type":"arrow","fromId":"shape:1hyE2O9ZHwnKWvDzSuSix","toId":"shape:49ZTQ0dZZdIoeRgFKmBNL","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.018478338961132264,"y":0.26092038337215956},"terminal":"end"},"typeName":"binding"},{"x":707.04296875,"y":497.812744140625,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:aLdbFuhtJKW9WmBu2K5Xz","type":"geo","props":{"w":134.9609375,"h":61.6953125,"geo":"rectangle","color":"light-blue","labelColor":"black","fill":"none","dash":"draw","size":"m","font":"draw","text":"ACCEPT","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"a75IG","typeName":"shape"},{"x":455.08984375,"y":621.69921875,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:a_FZfJ6UKQJ7Uslgt-yNg","type":"geo","props":{"w":163.84765625,"h":201.82421875,"geo":"ellipse","color":"light-blue","labelColor":"black","fill":"none","dash":"draw","size":"m","font":"draw","text":"new socket","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"a87pn","typeName":"shape"},{"x":393.86328125,"y":533.93359375,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:Qj0jmTio26AW3-wfZtG3K","type":"draw","props":{"segments":[{"type":"free","points":[{"x":0,"y":0,"z":0.5},{"x":0,"y":0.23,"z":0.5},{"x":0,"y":3.48,"z":0.5},{"x":3.82,"y":9.94,"z":0.5},{"x":8.48,"y":18.09,"z":0.5},{"x":13.48,"y":24.76,"z":0.5},{"x":16.61,"y":30.5,"z":0.5},{"x":19.08,"y":35.53,"z":0.5},{"x":23.39,"y":41.48,"z":0.5},{"x":26.24,"y":45.28,"z":0.5},{"x":27.92,"y":46.96,"z":0.5},{"x":28.14,"y":47.41,"z":0.5},{"x":28.37,"y":47.64,"z":0.5},{"x":28.6,"y":48.1,"z":0.5},{"x":29.05,"y":48.78,"z":0.5},{"x":29.57,"y":49.88,"z":0.5},{"x":30.79,"y":51.32,"z":0.5},{"x":31.24,"y":52.65,"z":0.5},{"x":32.7,"y":54.11,"z":0.5},{"x":33.91,"y":55.78,"z":0.5},{"x":36,"y":59.26,"z":0.5},{"x":36.7,"y":61.76,"z":0.5},{"x":38.7,"y":64.53,"z":0.5},{"x":39.51,"y":65.86,"z":0.5},{"x":41.68,"y":69.09,"z":0.5},{"x":43.09,"y":71.93,"z":0.5},{"x":45.1,"y":74.7,"z":0.5},{"x":47.47,"y":78.98,"z":0.5},{"x":50.74,"y":85.45,"z":0.5},{"x":53.73,"y":90.95,"z":0.5},{"x":55.73,"y":94.2,"z":0.5},{"x":58.38,"y":97.8,"z":0.5},{"x":60.62,"y":101.8,"z":0.5},{"x":62.5,"y":104.16,"z":0.5},{"x":63.68,"y":106.77,"z":0.5},{"x":64.13,"y":107.45,"z":0.5},{"x":65.57,"y":109.13,"z":0.5},{"x":66.26,"y":109.81,"z":0.5},{"x":66.48,"y":110.5,"z":0.5},{"x":67.52,"y":111.82,"z":0.5},{"x":68.21,"y":112.74,"z":0.5},{"x":68.66,"y":113.42,"z":0.5},{"x":68.66,"y":113.65,"z":0.5},{"x":68.89,"y":113.88,"z":0.5},{"x":69.12,"y":114.1,"z":0.5},{"x":69.86,"y":115.66,"z":0.5},{"x":70.09,"y":116.34,"z":0.5},{"x":71.74,"y":118.47,"z":0.5},{"x":72.43,"y":119.38,"z":0.5},{"x":73.01,"y":120.25,"z":0.5}]}],"color":"light-green","fill":"none","dash":"draw","size":"m","isComplete":true,"isClosed":false,"isPen":false,"scale":1},"parentId":"page:page","index":"a94a2","typeName":"shape"},{"x":468.5234375,"y":643.49609375,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:dyQG3n6dVIw-PuXrOua3e","type":"draw","props":{"segments":[{"type":"free","points":[{"x":0,"y":0,"z":0.5},{"x":0.81,"y":1.1,"z":0.5},{"x":1.5,"y":3.59,"z":0.5},{"x":3.13,"y":6.44,"z":0.5},{"x":3.71,"y":8.93,"z":0.5},{"x":4.39,"y":9.62,"z":0.5},{"x":4.39,"y":10.07,"z":0.5},{"x":4.62,"y":10.76,"z":0.5},{"x":4.85,"y":11.67,"z":0.5},{"x":4.85,"y":12.35,"z":0.5},{"x":4.85,"y":12.58,"z":0.5},{"x":4.85,"y":12.8,"z":0.5},{"x":3.93,"y":13.26,"z":0.5},{"x":-0.84,"y":13.26,"z":0.5},{"x":-4.85,"y":14.62,"z":0.5},{"x":-10.37,"y":15.14,"z":0.5},{"x":-14.38,"y":15.14,"z":0.5},{"x":-16.88,"y":15.54,"z":0.5},{"x":-18.51,"y":16.36,"z":0.5}]}],"color":"light-green","fill":"none","dash":"draw","size":"m","isComplete":true,"isClosed":false,"isPen":false,"scale":1},"parentId":"page:page","index":"aA0wY","typeName":"shape"},{"x":404.83984375,"y":551.4453125,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:qWd2Pecbnx2tLM0CwN7GX","type":"arrow","props":{"dash":"draw","size":"m","fill":"none","color":"light-green","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":2,"y":0},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"REDIRCT","labelPosition":0.5,"font":"draw","scale":1},"parentId":"page:page","index":"a9gfW","typeName":"shape"},{"meta":{},"id":"binding:lPoMAimSyCig2G2ILnhmY","type":"arrow","fromId":"shape:qWd2Pecbnx2tLM0CwN7GX","toId":"shape:Qj0jmTio26AW3-wfZtG3K","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.15034327489385016,"y":0.14562759875259876},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:YdeYa4m0wYweb9kD-s45k","type":"arrow","fromId":"shape:qWd2Pecbnx2tLM0CwN7GX","toId":"shape:a_FZfJ6UKQJ7Uslgt-yNg","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.1341889551514094,"y":0.2393645960696543},"terminal":"end"},"typeName":"binding"},{"x":671.9375,"y":423.1171875,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:g0g_vHCotG0pbI8WslDb7","type":"arrow","props":{"dash":"draw","size":"m","fill":"none","color":"light-green","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":-79.296875,"y":224.80859375},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"write in the new socket","labelPosition":0.5,"font":"draw","scale":1},"parentId":"page:page","index":"a8jfE","typeName":"shape"},{"meta":{},"id":"binding:4Nl95GANfEy8v-XVHb1wA","type":"arrow","fromId":"shape:g0g_vHCotG0pbI8WslDb7","toId":"shape:49ZTQ0dZZdIoeRgFKmBNL","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.010733529707593937,"y":0.6312179078971762},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:PMyLuG7cHnYC0PSAw9DWC","type":"arrow","fromId":"shape:g0g_vHCotG0pbI8WslDb7","toId":"shape:a_FZfJ6UKQJ7Uslgt-yNg","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.8305678800387432,"y":0.13504453181850196},"terminal":"end"},"typeName":"binding"},{"x":662.91796875,"y":-155.77099609375,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:Gz6Gbt00VDkXf2CoF1SFR","type":"geo","props":{"w":157,"h":133.08984375,"geo":"rectangle","color":"light-green","labelColor":"black","fill":"none","dash":"draw","size":"m","font":"draw","text":"that still listen for the incoming connection","align":"middle","verticalAlign":"middle","growY":47.38671875,"url":"","scale":1},"parentId":"page:page","index":"aB5bq","typeName":"shape"},{"x":800.4609375,"y":287.5372314453125,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:1DvJVEwQunp17Q4nS2B58","type":"arrow","props":{"dash":"draw","size":"m","fill":"none","color":"orange","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":-9.2109375,"y":-262.734375},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"AFTER THE connection","labelPosition":0.5,"font":"draw","scale":1},"parentId":"page:page","index":"aC80y","typeName":"shape"},{"meta":{},"id":"binding:yAV6sd08irXhSQlx-ZnEL","type":"arrow","fromId":"shape:1DvJVEwQunp17Q4nS2B58","toId":"shape:B-G0JA0kvZ0N-u6KCeWni","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.7291496238443606,"y":0.07549051188000451},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:GH8D7MLsDlOL05UbYhkmr","type":"arrow","fromId":"shape:1DvJVEwQunp17Q4nS2B58","toId":"shape:Gz6Gbt00VDkXf2CoF1SFR","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.8174014729299363,"y":0.9992620719882256},"terminal":"end"},"typeName":"binding"},{"x":437.33984375,"y":851.9691162109375,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:FUJlPaN-Ea1RXLTU5VB5q","type":"geo","props":{"w":234.0859375,"h":203.8984375,"geo":"rectangle","color":"blue","labelColor":"black","fill":"none","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"aD7Fb","typeName":"shape"},{"x":554.8203125,"y":822.4183349609375,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:CwSSfvZRngE8HNA_7NfXW","type":"arrow","props":{"dash":"draw","size":"m","fill":"none","color":"light-blue","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":-3.23046875,"y":29.26171875},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"","labelPosition":0.5,"font":"draw","scale":1},"parentId":"page:page","index":"aE25k","typeName":"shape"},{"x":450.4453125,"y":867.7230224609375,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:I5CT-3NTh2DLqr8VPZhVK","type":"text","props":{"color":"blue","size":"m","w":211.8671875,"text":"this socket will \nuse for send \nand receive data\nfrom the client \nand the server","font":"draw","textAlign":"start","autoSize":true,"scale":1},"parentId":"page:page","index":"aF0E1","typeName":"shape"},{"x":51.0625,"y":-340.2847900390625,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:oEEZ-9I0M1re16dSDhmxa","type":"geo","props":{"w":214.36328125,"h":213.91796875,"geo":"rectangle","color":"black","labelColor":"black","fill":"none","dash":"draw","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"aGA1e","typeName":"shape"},{"x":68.03033725434051,"y":-328.082275390625,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:sYBa7X9e0xllMWkxxpjMI","type":"text","props":{"color":"light-green","size":"m","w":238.0763834513659,"text":"This connection is identified by the 4-tuple:\nClient's IP + Client's Port + Server's IP + Server's Port","font":"draw","textAlign":"start","autoSize":false,"scale":0.825812118915567},"parentId":"page:page","index":"aHCA1","typeName":"shape"},{"x":559.03125,"y":263.8656005859375,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:jTV3MnogSiSXHcxlBny51","type":"arrow","props":{"dash":"draw","size":"m","fill":"none","color":"light-green","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":-292.51171875,"y":-393.796875},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"info about the connection","labelPosition":0.5,"font":"draw","scale":1},"parentId":"page:page","index":"aI1Eo","typeName":"shape"},{"x":859.21484375,"y":299.3336181640625,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:HiCaLVXCjAaaM9mgxWNmq","type":"geo","props":{"w":60,"h":64.765625,"geo":"rectangle","color":"light-red","labelColor":"black","fill":"none","dash":"draw","size":"m","font":"draw","text":"OS","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"aJ8Yq","typeName":"shape"},{"x":112.49609375,"y":442.9390869140625,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:VlIBwVCVa73oc92TCGYXH","type":"geo","props":{"w":64.4140625,"h":64.44921875,"geo":"rectangle","color":"light-red","labelColor":"black","fill":"none","dash":"draw","size":"m","font":"draw","text":"os","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"aK1Nx","typeName":"shape"},{"x":1383.765625,"y":-4.08837890625,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:qEUtvW_O7CxsmFko7UJPc","type":"geo","props":{"w":317.0703125,"h":246.91015624999997,"geo":"rectangle","color":"light-red","labelColor":"black","fill":"none","dash":"dotted","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"aL8NH","typeName":"shape"},{"x":1391.3984375,"y":-180.66259765625,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:Z-U8iGQK1CtL2Iv2HSRNL","type":"arrow","props":{"dash":"dotted","size":"m","fill":"none","color":"light-red","labelColor":"black","bend":0,"start":{"x":-450.033203125,"y":487.12939453125},"end":{"x":-49.796875,"y":444.0625},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"","labelPosition":0.5,"font":"draw","scale":1},"parentId":"page:page","index":"aN435","typeName":"shape"},{"x":1394.3896286095369,"y":12.02099609375,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:_uLM3d2Me5fB_ITwY9lDF","type":"text","props":{"color":"black","size":"m","w":508.75236962934497,"text":"The operating system keeps track of this connection, and when the server writes data to the new_socket_fd:\nThe OS ensures the data is routed to the correct client.\nThe client reads the response from its original client_fd.\nThe client doesn't need to know about the server's new_socket_fd because the underlying network stack handles routing the data.","font":"draw","textAlign":"start","autoSize":false,"scale":0.5755442050112898},"parentId":"page:page","index":"aMCL7","typeName":"shape"},{"x":803.70703125,"y":558.5814208984375,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:BhlAfRQMC8rFPFosITPJZ","type":"arrow","props":{"dash":"solid","size":"m","fill":"none","color":"yellow","labelColor":"black","bend":-69.67567358936486,"start":{"x":0,"y":0},"end":{"x":-187.1640625,"y":202.08203125},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"create a new socket","labelPosition":0.5,"font":"draw","scale":1},"parentId":"page:page","index":"a7gav","typeName":"shape"},{"meta":{},"id":"binding:e7GoGoQmc8oweuHjfo1pP","type":"arrow","fromId":"shape:BhlAfRQMC8rFPFosITPJZ","toId":"shape:aLdbFuhtJKW9WmBu2K5Xz","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.6242547033285094,"y":0.9047739647967583},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:a7xc5wjk2Dda8zNFHG8_r","type":"arrow","fromId":"shape:Z-U8iGQK1CtL2Iv2HSRNL","toId":"shape:HiCaLVXCjAaaM9mgxWNmq","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.9144856770833333,"y":0.4154459439083233},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:RWGX5CkSRdQzTajinnys5","type":"arrow","fromId":"shape:Z-U8iGQK1CtL2Iv2HSRNL","toId":"shape:_uLM3d2Me5fB_ITwY9lDF","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.011156132688635884,"y":0.16242867916479395},"terminal":"end"},"typeName":"binding"},{"x":1002.49609375,"y":760.7518310546875,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:wL2nemQIXtPJxISbt1l-P","type":"geo","props":{"w":574.6328125,"h":360.95312499999994,"geo":"rectangle","color":"yellow","labelColor":"black","fill":"none","dash":"solid","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"aO21b","typeName":"shape"},{"x":846.87890625,"y":544.9744873046875,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:VaWpRc7SZS-T2u6842Hev","type":"arrow","props":{"dash":"solid","size":"m","fill":"none","color":"yellow","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":286.7109375,"y":219.5390625},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"NOTE","labelPosition":0.5,"font":"draw","scale":1},"parentId":"page:page","index":"aP7Qq","typeName":"shape"},{"meta":{},"id":"binding:yrPGEKbytuG1zEUlpdAuJ","type":"arrow","fromId":"shape:VaWpRc7SZS-T2u6842Hev","toId":"shape:aLdbFuhtJKW9WmBu2K5Xz","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.9981620839363242,"y":0.5844268393060656},"terminal":"start"},"typeName":"binding"},{"meta":{},"id":"binding:m9Y2Fi3bMU3onsuDlXbmP","type":"arrow","fromId":"shape:VaWpRc7SZS-T2u6842Hev","toId":"shape:wL2nemQIXtPJxISbt1l-P","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.24160432423544886,"y":0.003974347394092675},"terminal":"end"},"typeName":"binding"},{"x":1049.8112393113174,"y":779.8353596210345,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:Wjn-Q22AI2ioZVCxt3fRC","type":"text","props":{"color":"light-green","size":"m","w":518.3160234239674,"text":"The accept() call doesn't affect the client. It’s purely for the server to create a dedicated socket for that client.\nThe operating system manages the mapping of data between the client’s client_fd and the server’s new_socket_fd.\nThe client simply reads data from its original client_fd, unaware of the new_socket_fd on the server side.","font":"draw","textAlign":"start","autoSize":false,"scale":0.9633550357688289},"parentId":"page:page","index":"aQ0hn","typeName":"shape"},{"x":155.35811431131742,"y":1434.6927814960345,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:-vOQ9xOJ8WMXdpa5Mxk60","type":"geo","props":{"w":1184.84375,"h":523.484375,"geo":"rectangle","color":"yellow","labelColor":"black","fill":"none","dash":"solid","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"aRAT7","typeName":"shape"},{"x":225.50655181131742,"y":1482.1146564960345,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:bj-vLrn9uvu5WOPLeBVCp","type":"text","props":{"color":"light-red","size":"m","w":1053.90625,"text":"CLIENT                              SERVER\n|                                                 |\n| socket() -> client_fd (e.g., 5)    |  socket() -> server_fd (e.g., 3)\n| connect(client_fd, IP, PORT)      |  bind(server_fd, PORT)\n|   (Client initiates connection)     |  listen(server_fd)\n|                                                  |   accept(server_fd) -> new_socket_fd (e.g., 4)\n|                                                  |   (Server accepts connection and creates new fd)\n|                                                  |\n| write(client_fd, \"Request\") -->  | read(new_socket_fd, buffer)\n|                                                  |\n| read(client_fd, \"Response\") <-- | write(new_socket_fd, \"Response\")\n|                                                 |","font":"draw","textAlign":"start","autoSize":false,"scale":1},"parentId":"page:page","index":"aSC8G","typeName":"shape"},{"x":479.2565518113174,"y":1341.0748615741595,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:xaxiDQKvpdKgVfkEYSlmP","type":"text","props":{"color":"yellow","size":"m","w":448.4609375,"text":"Schema of Client-Server Interaction","font":"draw","textAlign":"start","autoSize":true,"scale":1},"parentId":"page:page","index":"aTBME","typeName":"shape"},{"x":659.6081143113174,"y":1366.7125568866595,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:XztC_Dz3sZsv4_DPIS9oB","type":"arrow","props":{"dash":"solid","size":"m","fill":"none","color":"yellow","labelColor":"black","bend":0,"start":{"x":14.50390625,"y":7.4677734375},"end":{"x":0.7421875,"y":62.15625},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"","labelPosition":0.5,"font":"draw","scale":1},"parentId":"page:page","index":"aU7JG","typeName":"shape"},{"x":1434.4206143113174,"y":322.3312092304095,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:g4L8rAumw5NpW2E3UWWcK","type":"geo","props":{"w":424.62500000000006,"h":362.2734375,"geo":"rectangle","color":"light-red","labelColor":"black","fill":"none","dash":"dotted","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"aVA6X","typeName":"shape"},{"x":1474.3799215380795,"y":331.81909536976013,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:sCBtsHtVP2mIl9tqtQqVa","type":"text","props":{"color":"light-red","size":"m","w":307.66408813925744,"text":"The server's OS ensures data from the server application (written to new_socket_fd) is transmitted to the correct client by embedding the client's IP and port in the packet headers.","font":"draw","textAlign":"start","autoSize":false,"scale":1.1941736191456036},"parentId":"page:page","index":"aW8tn","typeName":"shape"},{"x":916.0456143113174,"y":348.3780842304095,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:ZSpNHvHWfrQOskByN6CK4","type":"arrow","props":{"dash":"dotted","size":"m","fill":"none","color":"light-red","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":515.609375,"y":96.3125},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"","labelPosition":0.5,"font":"draw","scale":1},"parentId":"page:page","index":"aJaEp","typeName":"shape"},{"meta":{},"id":"binding:CpeCGkrnvcoAaxnWupNWE","type":"arrow","fromId":"shape:ZSpNHvHWfrQOskByN6CK4","toId":"shape:HiCaLVXCjAaaM9mgxWNmq","props":{"isPrecise":false,"isExact":false,"normalizedAnchor":{"x":0.9471795093552904,"y":0.7572607547035486},"terminal":"start"},"typeName":"binding"},{"x":-734.6513397226545,"y":470.09554729551564,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:L_kGztA2KsGCKfVWq_U1I","type":"geo","props":{"w":603.28125,"h":254.9453125,"geo":"rectangle","color":"light-red","labelColor":"black","fill":"none","dash":"dotted","size":"m","font":"draw","text":"","align":"middle","verticalAlign":"middle","growY":0,"url":"","scale":1},"parentId":"page:page","index":"aX5nA","typeName":"shape"},{"x":109.07522277734552,"y":473.35335979551564,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:Ac3eyxxwz2U_ZxKiIrbSQ","type":"arrow","props":{"dash":"dotted","size":"m","fill":"none","color":"light-red","labelColor":"black","bend":0,"start":{"x":0,"y":0},"end":{"x":-237.2578125,"y":99.421875},"arrowheadStart":"none","arrowheadEnd":"arrow","text":"","labelPosition":0.5,"font":"draw","scale":1},"parentId":"page:page","index":"aKg5T","typeName":"shape"},{"meta":{},"id":"binding:HFJvRVUe-j0wlVnr_HzZj","type":"arrow","fromId":"shape:Ac3eyxxwz2U_ZxKiIrbSQ","toId":"shape:VlIBwVCVa73oc92TCGYXH","props":{"isPrecise":true,"isExact":false,"normalizedAnchor":{"x":0.5,"y":0.5},"terminal":"start"},"typeName":"binding"},{"x":-708.0732147226545,"y":481.38460979551564,"rotation":0,"isLocked":false,"opacity":1,"meta":{},"id":"shape:_iYkNEA_o0zim5iFWv-TU","type":"text","props":{"color":"light-red","size":"m","w":415.2784418341951,"text":"The client's OS ensures the incoming data is routed to the appropriate socket (client_fd) based on the destination port in the packet headers.","font":"draw","textAlign":"start","autoSize":false,"scale":1.3672172654931276},"parentId":"page:page","index":"aY98E","typeName":"shape"}]}
